var __awaiter=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function u(e){try{c(r.next(e))}catch(e){i(e)}}function o(e){try{c(r["throw"](e))}catch(e){i(e)}}function c(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(u,o)}c((r=r.apply(e,t||[])).next())})};var __generator=this&&this.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,a,i,u;return u={next:o(0),throw:o(1),return:o(2)},typeof Symbol==="function"&&(u[Symbol.iterator]=function(){return this}),u;function o(e){return function(t){return c([e,t])}}function c(u){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,a&&(i=u[0]&2?a["return"]:u[0]?a["throw"]||((i=a["return"])&&i.call(a),0):a.next)&&!(i=i.call(a,u[1])).done)return i;if(a=0,i)u=[u[0]&2,i.value];switch(u[0]){case 0:case 1:i=u;break;case 4:n.label++;return{value:u[1],done:false};case 5:n.label++;a=u[1];u=[0];continue;case 7:u=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){n.label=u[1];break}if(u[0]===6&&n.label<i[1]){n.label=i[1];i=u;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(u);break}if(i[2])n.ops.pop();n.trys.pop();continue}u=t.call(e,n)}catch(e){u=[6,e];a=0}finally{r=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:true}}};System.register([],function(e){"use strict";return{execute:function(){var t=this;var n="http://172.16.0.1/";var r=n;var a=function(e){return typeof e!=="undefined"};var i=function(){function e(){}return e}();e("U",i);i.setTime=function(e,t){var n=parseInt;var r,a;switch(e.length){case 0:r=0;a=0;break;case 1:r=0;a=n(e[0]);break;case 2:r=0;a=n(e[0]+e[1]);break;case 3:r=n(e[0]);a=n(e[1]+e[2]);if(a>59)a=59;break;case 4:r=n(e[0]+e[1]);if(r>12&&t===12)r=12;if(r>23&&t===24)r=23;r=r;a=n(e[2]+e[3]);if(a>59)a=59}return{hour:r,min:a}};i.parseAlarms=function(e){var t=[];var n=parseInt;if(!e||e.length===0)return[];var r=/(\d) (True|False) \(([0-6\, ]{0,19})\) (\d{1,2}):(\d{1,2})-(\d{1,3})m\+(\d{1,3})m/;t=e.map(function(e){var t=e.match(r),a=t[0],i=t[1],u=t[2],o=t[3],c=t[4],s=t[5],f=t[6],l=t[7];var h={};a="";var d=o.split(", "+a);if(d.length>0){d.map(function(e){h[e]=true})}return{id:n(i),enabled:u==="True",days:h,hour:n(c),min:n(s),before:n(f),after:n(l)}});return t};i.post=function(e,n){return __awaiter(t,void 0,void 0,function(){var t,i,u;return __generator(this,function(o){switch(o.label){case 0:o.trys.push([0,3,,4]);t=n.id;delete n.id;return[4,fetch(r+e+(a(t)?"/"+t:""),{method:t?"PUT":"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}})];case 1:i=o.sent();return[4,i.json()];case 2:return[2,o.sent()];case 3:u=o.sent();return[2,u];case 4:return[2]}})})};i.delete=function(e,n){return __awaiter(t,void 0,void 0,function(){var t,a;return __generator(this,function(i){switch(i.label){case 0:i.trys.push([0,3,,4]);return[4,fetch(r+e+("/"+n.id),{method:"DELETE"})];case 1:t=i.sent();return[4,t.json()];case 2:return[2,i.sent()];case 3:a=i.sent();return[2,a];case 4:return[2]}})})};i.deleteAlarm=function(e){return __awaiter(t,void 0,void 0,function(){return __generator(this,function(t){return[2,i.get("",e)]})})};i.get=function(e,n){if(n===void 0){n={}}return __awaiter(t,void 0,void 0,function(){var t,a,i,u,o,c,s;return __generator(this,function(f){switch(f.label){case 0:f.trys.push([0,3,,4]);t=void 0;a=encodeURIComponent;i=n.id;delete n.id;u=Object.keys(n).length;o=Object.keys(n).map(function(e){return a(e)+"="+a(n[e])}).join("&");t=r+e+(i?"/"+i:"")+(u?"?"+o:"");return[4,fetch(t,{method:"GET"})];case 1:c=f.sent();return[4,c.json()];case 2:return[2,f.sent()];case 3:s=f.sent();return[2,s];case 4:return[2]}})})}}}});