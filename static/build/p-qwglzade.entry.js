import{r as s,h as t}from"./p-3278c467.js";import{U as i}from"./p-e1317c3b.js";const e=1;class a{constructor(t){s(this,t),this.hour=4,this.min=20,this.freq=1,this.base=12,this.meridian=e,this.days={},this.componentDidLoad=async()=>{const s=this.match.params.id;if(s){const t=await i.get("alarms",{id:s});this.hour=t.hour,this.min=t.min,this.freq=t.frequency}},this.setTime=s=>{const{hour:t,min:e}=i.setTime(s,this.base);this.hour=t,this.min=e},this.setDay=s=>{this.days=Object.assign({},this.days,{[s]:!this.days[s]})},this.setAll=s=>{this.days=s?{0:!0,1:!0,2:!0,3:!0,4:!0,5:!0,6:!0}:{}},this.setMeridian=s=>{this.meridian=s},this.setFreq=s=>{this.freq=s},this.submitPayload=async()=>{const{hour:s,min:t,meridian:e,days:a,freq:h}=this,r={hour:s,min:t,meridian:e,days:a,freq:h};await i.post("alarms",r)&&this.history.replace("/list")}}render(){return t("div",{class:"edit"},t("nav-header",null),t("h1",null,"Set Alarm"),t("h2",null,"I want to UNLOCK the box"),t("form-wizard",null,t("day-setter",{setFreq:this.setFreq,setDay:this.setDay,setAll:this.setAll,freq:this.freq,days:this.days,slot:"page1"}),t("time-setter",{hour:this.hour,min:this.min,base:this.base,meridian:this.meridian,setMeridian:this.setMeridian,setTime:this.setTime,slot:"page2"})),t("post-button",{onClick:()=>this.submitPayload()},"Save"))}static get style(){return".edit{max-width:920px;margin:0 auto}h1{font-size:35px;margin-bottom:0}h1,h2{color:#fff;font-weight:100;text-align:center}h2{font-size:18px;margin:20px 0 10px 0}"}}export{a as edit_page};