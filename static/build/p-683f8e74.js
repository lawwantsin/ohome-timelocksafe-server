const e="http://172.16.0.1/";class t{}t.setTime=(e,t)=>{const a=parseInt;let n,r;switch(e.length){case 0:n=0,r=0;break;case 1:n=0,r=a(e[0]);break;case 2:n=0,r=a(e[0]+e[1]);break;case 3:n=a(e[0]),(r=a(e[1]+e[2]))>59&&(r=59);break;case 4:(n=a(e[0]+e[1]))>12&&12===t&&(n=12),n>23&&24===t&&(n=23),n=n,(r=a(e[2]+e[3]))>59&&(r=59)}return{hour:n,min:r}},t.parseAlarms=e=>{const t=parseInt;if(!e||0===e.length)return[];const a=/(\d) (True|False) \(([0-6\, ]{0,19})\) (\d{1,2}):(\d{1,2})-(\d{1,3})m\+(\d{1,3})m/;return e.map(e=>{let[n,r,s,c,o,d,i,h]=e.match(a),l={};const m=c.split(`, ${n=""}`);return m.length>0&&m.map(e=>{l[e]=!0}),{id:t(r),enabled:"True"===s,days:l,hour:t(o),min:t(d),before:t(i),after:t(h)}})},t.post=async(t,a)=>{try{const{id:n}=a;delete a.id;const r=await fetch(e+t+((e=>void 0!==e)(n)?`/${n}`:""),{method:n?"PUT":"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}});return await r.json()}catch(e){return e}},t.delete=async(t,a)=>{try{const n=await fetch(e+t+`/${a.id}`,{method:"DELETE"});return await n.json()}catch(e){return e}},t.deleteAlarm=async e=>t.get("",e),t.get=async(t,a={})=>{try{let n;const r=encodeURIComponent,s=a.id;delete a.id;const c=Object.keys(a).length,o=Object.keys(a).map(e=>r(e)+"="+r(a[e])).join("&");n=e+t+(s?`/${s}`:"")+(c?"?"+o:"");const d=await fetch(n,{method:"GET"});return await d.json()}catch(e){return e}};export{t as U};